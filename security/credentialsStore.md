# Parameter Store, Secret Manager
암호를 저장함에 있어 유사한 역할을 하는 두 서비스에 대해 정리하였다.

## 1. Parameter Store
Parameter Store 는 configure 데이터나 암호 관리를 위한 스토리지를 제공하는 서비스이다.  
  
값을 일반 텍스트 또는 암호화된 데이터로 저장하며, 파라미터를 생성할 때 지정한 고유 이름을 사용하여 스크립트, 명령, SSM 문서 등에서 Systems Manager 파라미터를 참조할 수 있다.  

## 2. Secret Manager
Secret Manager 는 보안 암호를 쉽게 관리하기 위한 서비스 이다.  
  
암호화된 보안 암호 값을 실행 시간에 프로그래밍 방식으로 검색하여, 애플리케이션 소스 코드에서 하드 코딩된 자격 증명을 제거함으로써 보안 상태를 개선할 수 있다.

### 2.1 Rotate
암호에 대한 Rotate 를 지원한다.  
* 1 ~ 365일 사이의 값을 지정할 수 있다.
* Lambda 함수를 이용한 프로그래밍 방식의 Rotate 를 사용한다.
* Rotate 설정 즉시 한번 실행된다. (설정 후 바로 값 변경)

### 2.2 삭제
삭제 시 바로 제거되지 않도록 설게되었다.
* 바로 삭제가 불가하며, 7~30 일 사이의 삭제 대기 기간을 예약해야 한다.
* 다만 이는 콘솔에 한정된 내용으로, CLI 또는 SDK를 사용하면 대기 기간 없이 영구히 삭제가 가능하다.
* 삭제가 예약되어 있는 동안 복원이 가능하다.

## 3. 비교
두 서비스는 암호를 저장하는 스토리지를 지원한다는 점에서 유사한 서비스로 볼 수 있다.(Parameter Store의 경우 이외의 값도 저장)  
Secret Manager 는 설정 상 DB 암호화에 특화되어 있는 것으로 보인다.  
  
어느 한쪽이 좋다기보다는 필요에 맞게 사용하는 것이 중요할 것으로 보인다.  

#### [값 저장]
* Parameter Store는 암호 뿐만 아니라 설정 값 등 텍스트 형태의 값의 저장을 지원한다.
* Secret Manager 는 DB의 사용자 이름 및 암호를 저장하게 되며, 또는 키/값 형태의 암호 저장을 지원한다.

#### [암호 Rotate]
* Parameter Store는 Rotate 를 기본적으로 지원하지 않는다.
* Secret Manager 는 Lambda 함수를 통한 암호 Rotate 를 지원한다.

#### [교차 계정 액세스]
* Parameter Store 는 교차 계정 액세스가 지원되지 않는다.
* Secret Manager 는 교차 계정 액세스가 지원되어 타 계정에서 암호에 접근할 수 있다.

#### [비용]
* Parameter Store 는 추가 비용이 발생하지 않는다.
* Secret Manager 는 월별 보안 정보당, API 호출 1만건 당의 비용이 발생한다.

#### [공통 사항]
* 두 서비스 모두 KMS 를 통한 암호화가 지원된다.
